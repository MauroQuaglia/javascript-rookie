<!DOCTYPE html>
<html lang="en">
<head>
	<title>async/await</title>

	<!--<script>
        // Risultato: 1 | 2 | FATTO!
        function f() {
            let promise = new Promise((resolve, reject) => {
                setTimeout(() => resolve("FATTO!"), 5000)
            });

            alert('1');
            promise.then(result => alert(result));
            alert('2');
        }

        f();
	</script>-->

	<!--	<script>
			// Risultato: 1 | FATTO! | 2
			// In questo caso prima di chiamare 2, deve aspettare il risultato della Promise precedente.
			function f() {
				let promise = new Promise((resolve, reject) => {
					setTimeout(() => resolve("FATTO!"), 5000)
				});

				alert('1');
				promise
					.then(result => alert(result))
					.then(() => alert('2'))
			}

			f();
		</script>-->

	<!--<script>
        // await funziona solo all'interno delle funzioni async
        // Risultato: 1 | FATTO! | 2
        async function f() {
            let promise = new Promise((resolve, reject) => {
                setTimeout(() => resolve("FATTO!"), 5000)
            });

            alert('1')
            let result = await promise; // Attende fino a quando la promise si risolve.
            alert(result);
            alert('2')
        }

        f();
	</script>-->

	<script>
		// SAREBBE questo il modo standard di utlizzo.
        let promise = new Promise((resolve, reject) => {
            setTimeout(() => resolve("FATTO!"), 5000)
        });

        // await funziona solo all'interno delle funzioni async
        async function f() {
            let result = await promise;
            alert(result);
            // Qua dentro metto tutto ci√≤ che dipende effettivamente da result e che devo aspettare per forza!
        }

        // Risultato: 1 | 2 | FATTO!
        alert('1')
        f();
        alert('2')
	</script>

</head>
<body>
</body>
</html>